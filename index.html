<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PDF Tools Generator</title>
  <!-- jsPDF CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; padding:20px; }
    .container { max-width:700px; margin:auto; background:#fff; padding:20px; border-radius:8px; }
    label { display:block; margin-top:12px; font-weight:bold; }
    input, textarea { width:100%; padding:8px; margin-top:6px; }
    button { margin-top:20px; padding:12px 20px; font-size:16px; cursor:pointer; }
  </style>
</head>
<body>
  <div class="container">
    <h2>PDF Generator (5 Pages)</h2>

    <!-- Variables -->
    <label>PDF File Name (without .pdf)</label>
    <input id="pdfName" placeholder="my-ebook" />

    <label>Title</label>
    <input id="title" placeholder="Ebook Title" />

    <label>Author</label>
    <input id="author" placeholder="Author Name" />

    <label>Download Link</label>
    <input id="link" placeholder="https://example.com/download" />

    <label>Cover Image URL (Full Page – Page 1)</label>
    <input id="imageUrl" placeholder="https://example.com/cover.jpg" />

    <button onclick="generatePDF()">Generate PDF</button>
  </div>

  <script>
    async function generatePDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF({ orientation: 'portrait', unit: 'pt', format: 'a4' });

      // Variables
      const pdfName = document.getElementById('pdfName').value || 'ebook';
      const TITLE = document.getElementById('title').value || 'TITLE';
      const AUTHOR = document.getElementById('author').value || 'AUTHOR';
      const LINK = document.getElementById('link').value || 'https://example.com';
      const imageUrl = document.getElementById('imageUrl').value;

      const pageWidth = doc.internal.pageSize.getWidth();
      const pageHeight = doc.internal.pageSize.getHeight();

      /* ---------------- Page 1: Full Image ---------------- */
      if (imageUrl) {
        const img = await loadImage(imageUrl);
        doc.addImage(img, 'JPEG', 0, 0, pageWidth, pageHeight);
      }

      /* ---------------- Page 2: Text + Button Link ---------------- */
      doc.addPage();
      doc.setFont('Helvetica', 'normal');
      doc.setFontSize(14);

      const text = `Download or Read Online ${TITLE} free ebook (PDF ePub Mobi) - ${AUTHOR}\n\n` +
        `Ebook PDF ${TITLE} | EBOOK ONLINE DOWNLOAD\n` +
        `If you want to download a free ebook, you're in the right place. ` +
        `Ebook/PDF ${TITLE} DOWNLOAD in English is available for free here. ` +
        `Click on the download LINK below to download the Ebook ${TITLE} PDF Download in English by ${AUTHOR} (Author).`;

      doc.text(text, 40, 80, { maxWidth: pageWidth - 80 });

      // Download button (link)
      doc.setTextColor(0, 0, 255);
      doc.setFontSize(16);
      doc.textWithLink('DOWNLOAD PDF', pageWidth / 2 - 70, pageHeight - 120, { url: LINK });
      doc.setTextColor(0, 0, 0);

      /* ---------------- Pages 3–5: Blank ---------------- */
      doc.addPage(); // Page 3
      doc.addPage(); // Page 4
      doc.addPage(); // Page 5

      /* ---------------- Save PDF ---------------- */
      doc.save(`${pdfName}.pdf`);
    }

    function loadImage(url) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.crossOrigin = 'Anonymous';
        img.onload = () => resolve(img);
        img.onerror = reject;
        img.src = url;
      });
    }
  </script>
</body>
</html>
